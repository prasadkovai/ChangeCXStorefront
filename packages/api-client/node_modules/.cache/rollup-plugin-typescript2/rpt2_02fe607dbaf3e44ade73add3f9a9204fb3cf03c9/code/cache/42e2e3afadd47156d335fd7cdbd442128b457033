{"code":"import { __awaiter, __generator } from \"tslib\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nexport default function getProduct(context, params, customQuery) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var getProductByHandleQuery;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (!params.slug) return [3 /*break*/, 1];\r\n                    getProductByHandleQuery = context.CustomClient.graphQLClient.query(function (root) {\r\n                        root.add('productByHandle', { args: { handle: params.slug } }, function (productByHandle) {\r\n                            // get product basic information\r\n                            productByHandle.add('id');\r\n                            productByHandle.add('title');\r\n                            productByHandle.add('description');\r\n                            productByHandle.add('descriptionHtml');\r\n                            productByHandle.add('handle');\r\n                            productByHandle.add('tags');\r\n                            productByHandle.add('availableForSale');\r\n                            productByHandle.add('totalInventory');\r\n                            productByHandle.add('vendor');\r\n                            productByHandle.add('options', {}, function (options) {\r\n                                options.add('name');\r\n                                options.add('values');\r\n                            });\r\n                            productByHandle.addConnection('images', { args: { first: 20 } }, function (image) {\r\n                                image.add('id');\r\n                                image.add('altText');\r\n                                image.add('originalSrc');\r\n                                image.add('transformedSrc');\r\n                            });\r\n                            productByHandle.addConnection('variants', { args: { first: 20 } }, function (variants) {\r\n                                variants.add('title');\r\n                                variants.add('price');\r\n                                variants.add('weight');\r\n                                variants.add('available');\r\n                                variants.add('sku');\r\n                                variants.add('compareAtPrice');\r\n                                variants.addField('image', { args: {} }, function (image) {\r\n                                    image.add('id');\r\n                                    image.add('altText');\r\n                                    image.add('originalSrc');\r\n                                    image.add('transformedSrc');\r\n                                });\r\n                                variants.addField('selectedOptions', {}, function (selectedOptions) {\r\n                                    selectedOptions.add('name');\r\n                                    selectedOptions.add('value');\r\n                                });\r\n                                variants.addField('product', {}, function (product) {\r\n                                    product.add('id');\r\n                                    product.add('title');\r\n                                    product.add('availableForSale');\r\n                                    product.add('handle');\r\n                                    product.add('description');\r\n                                    product.add('descriptionHtml');\r\n                                    product.addConnection('images', { args: { first: 20 } }, function (images) {\r\n                                        images.add('id');\r\n                                        images.add('altText');\r\n                                        images.add('originalSrc');\r\n                                        images.add('transformedSrc');\r\n                                    });\r\n                                    product.add('productType');\r\n                                    product.addField('options', {}, function (options) {\r\n                                        options.add('name');\r\n                                        options.add('values');\r\n                                    });\r\n                                });\r\n                            });\r\n                        });\r\n                    });\r\n                    return [2 /*return*/, context.CustomClient.graphQLClient\r\n                            .send(getProductByHandleQuery)\r\n                            .then(function (_a) {\r\n                            var model = _a.model, product = _a.product;\r\n                            if (model) {\r\n                                return model.productByHandle;\r\n                            }\r\n                        })];\r\n                case 1:\r\n                    if (!params.sort) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, context.client.product\r\n                            .fetchQuery({ first: 20, sortKey: 'TITLE', reverse: false })\r\n                            .then(function (products) {\r\n                            return products;\r\n                        })];\r\n                case 2: return [2 /*return*/, _a.sent()];\r\n                case 3: return [4 /*yield*/, context.client.product.fetchAll().then(function (products) {\r\n                        return products;\r\n                    })];\r\n                case 4: \r\n                // Use the built-in function\r\n                return [2 /*return*/, _a.sent()];\r\n            }\r\n        });\r\n    });\r\n}\r\n//# sourceMappingURL=index.js.map","references":["E:/PRASAD/Dasha/23-03-2021/shopify/node_modules/@vue-storefront/core/lib/src/index.d.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../../src/api/getProduct/index.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"E:/PRASAD/Dasha/23-03-2021/shopify/packages/api-client/node_modules/.cache/rollup-plugin-typescript2/placeholder/api/getProduct/index.d.ts","writeByteOrderMark":false,"text":"import { CustomQuery } from '@vue-storefront/core';\r\nexport default function getProduct(context: any, params: any, customQuery?: CustomQuery): Promise<any>;\r\n"}}
