{"code":"import { __assign, __spreadArray } from \"tslib\";\r\nimport { enhanceProduct, enhanceProductVariation } from '../helpers/internals';\r\nimport { formatAttributeList, getVariantByAttributes } from './_utils';\r\n// TODO: Add interfaces for some of the methods in core\r\n// Product\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport var getProductName = function (product) { return (product === null || product === void 0 ? void 0 : product.name) || 'Product\\'s name'; };\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport var getProductSlug = function (product) {\r\n    return product._slug;\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport var getProductPrice = function (product) {\r\n    var _a, _b;\r\n    return {\r\n        regular: ((_a = product === null || product === void 0 ? void 0 : product.price) === null || _a === void 0 ? void 0 : _a.original) || 0,\r\n        special: ((_b = product === null || product === void 0 ? void 0 : product.price) === null || _b === void 0 ? void 0 : _b.current) || 0\r\n    };\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport var getProductGallery = function (product) {\r\n    return (product ? product.images : [])\r\n        .map(function (image) { return ({\r\n        small: image.originalSrc,\r\n        big: image.originalSrc,\r\n        normal: image.originalSrc\r\n    }); });\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nexport var getProductCoverImage = function (product) {\r\n    var _a;\r\n    return ((_a = product === null || product === void 0 ? void 0 : product._coverImage) === null || _a === void 0 ? void 0 : _a.src) || '';\r\n};\r\nexport var getActiveVariantImage = function (product) {\r\n    for (var i = 1; i < (product.images).length; i++) {\r\n        if (product.images[i].originalSrc === product._coverImage.originalSrc) {\r\n            return i;\r\n        }\r\n    }\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport var getProductFiltered = function (products, filters) {\r\n    if (filters === void 0) { filters = {}; }\r\n    if (!products) {\r\n        return [];\r\n    }\r\n    // convert entire product response to productvariant interface\r\n    if (filters.attributes && Object.keys(filters.attributes).length > 0) {\r\n        var selectedVariant = getVariantByAttributes(products, filters.attributes);\r\n        if (!selectedVariant) {\r\n            selectedVariant = products.variants[0];\r\n        }\r\n        var selectedVariantArr = Array.isArray(selectedVariant) ? selectedVariant : [selectedVariant];\r\n        return enhanceProductVariation(selectedVariantArr);\r\n    }\r\n    if (filters.master) {\r\n        products = Array.isArray(products) ? products : [products];\r\n    }\r\n    return enhanceProduct(products);\r\n};\r\nexport var getProductOptions = function (product) {\r\n    var productOptions = product.options;\r\n    return productOptions;\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport var getProductAttributes = function (products, filterByAttributeName) {\r\n    var isSingleProduct = !Array.isArray(products);\r\n    var productList = (isSingleProduct ? [products] : products);\r\n    if (!products || productList.length === 0) {\r\n        return {};\r\n    }\r\n    /* const formatAttributes = (products): AgnosticAttribute[] =>{\r\n      return formatAttributeList(products.options);\r\n    };*/\r\n    var formatAttributes = function (product) {\r\n        return formatAttributeList(product.options).filter(function (attribute) { return filterByAttributeName ? filterByAttributeName.includes(attribute.name) : attribute; });\r\n    };\r\n    var reduceToUniques = function (prev, curr) {\r\n        var isAttributeExist = prev.some(function (el) { return el.name === curr.name && el.value === curr.value; });\r\n        if (!isAttributeExist) {\r\n            return __spreadArray(__spreadArray([], prev), [curr]);\r\n        }\r\n        return prev;\r\n    };\r\n    var reduceByAttributeName = function (prev, curr) {\r\n        var _a;\r\n        return (__assign(__assign({}, prev), (_a = {}, _a[curr.name] = isSingleProduct ? curr.value : __spreadArray(__spreadArray([], (prev[curr.name] || [])), [\r\n            {\r\n                value: curr.value,\r\n                label: curr.label\r\n            }\r\n        ]), _a)));\r\n    };\r\n    return productList\r\n        .map(function (product) { return formatAttributes(product); })\r\n        .reduce(function (prev, curr) { return __spreadArray(__spreadArray([], prev), curr); }, [])\r\n        .reduce(reduceToUniques, [])\r\n        .reduce(reduceByAttributeName, {});\r\n};\r\nexport var getProductDescription = function (product, isWantHtml) {\r\n    if (product) {\r\n        if (isWantHtml) {\r\n            return product._descriptionHtml;\r\n        }\r\n        return product._description;\r\n    }\r\n};\r\nexport var getProductCategoryIds = function (product) { var _a; return ((_a = product) === null || _a === void 0 ? void 0 : _a._categoriesRef) || ''; };\r\nexport var getProductId = function (product) { var _a; return ((_a = product) === null || _a === void 0 ? void 0 : _a._id) || ''; };\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nexport var getFormattedPrice = function (price) { return String(price); };\r\nexport var getProductStatus = function (product) {\r\n    if (product && (product._availableForSale || product.available)) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nexport var checkForWishlist = function (product) { var _a; return (_a = product.isOnWishlist) !== null && _a !== void 0 ? _a : false; };\r\nexport var getBreadcrumbs = function (product) {\r\n    var breadCrumbs = [\r\n        {\r\n            text: 'Home',\r\n            route: {\r\n                link: '/'\r\n            }\r\n        }\r\n    ];\r\n    if (product && product.productType) {\r\n        breadCrumbs.push({\r\n            text: product.productType,\r\n            route: {\r\n                link: '#'\r\n            }\r\n        });\r\n    }\r\n    if (product && product.name) {\r\n        breadCrumbs.push({\r\n            text: getProductName(product),\r\n            route: {\r\n                link: '#'\r\n            }\r\n        });\r\n    }\r\n    return breadCrumbs;\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport var getProductTotalReviews = function (product) { return 0; };\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nexport var getProductAverageRating = function (product) { return 0; };\r\nvar productGetters = {\r\n    getName: getProductName,\r\n    getSlug: getProductSlug,\r\n    getPrice: getProductPrice,\r\n    getGallery: getProductGallery,\r\n    getCoverImage: getProductCoverImage,\r\n    getVariantImage: getActiveVariantImage,\r\n    getFiltered: getProductFiltered,\r\n    getOptions: getProductOptions,\r\n    getAttributes: getProductAttributes,\r\n    getDescription: getProductDescription,\r\n    getCategoryIds: getProductCategoryIds,\r\n    getId: getProductId,\r\n    getStatus: getProductStatus,\r\n    getFormattedPrice: getFormattedPrice,\r\n    getTotalReviews: getProductTotalReviews,\r\n    getAverageRating: getProductAverageRating,\r\n    getBreadcrumbs: getBreadcrumbs\r\n};\r\nexport default productGetters;\r\n//# sourceMappingURL=productGetters.js.map","references":["E:/PRASAD/Dasha/23-03-2021/shopify/node_modules/@vue-storefront/core/lib/src/index.d.ts","E:/PRASAD/Dasha/23-03-2021/shopify/node_modules/@vue-storefront/shopify-api/src/types.ts","E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/src/helpers/internals/index.ts","E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/src/getters/_utils.ts"],"map":"{\"version\":3,\"file\":\"productGetters.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/getters/productGetters.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/node_modules/.cache/rollup-plugin-typescript2/placeholder/getters/productGetters.d.ts","writeByteOrderMark":false,"text":"import { AgnosticMediaGalleryItem, AgnosticAttribute, AgnosticPrice, ProductGetters } from '@vue-storefront/core';\r\nimport { ProductVariant } from '@vue-storefront/shopify-api/src/types';\r\ndeclare type ProductVariantFilters = any;\r\nexport declare const getProductName: (product: ProductVariant) => string;\r\nexport declare const getProductSlug: (product: ProductVariant) => string;\r\nexport declare const getProductPrice: (product: ProductVariant) => AgnosticPrice;\r\nexport declare const getProductGallery: (product: ProductVariant) => AgnosticMediaGalleryItem[];\r\nexport declare const getProductCoverImage: (product: any) => any;\r\nexport declare const getActiveVariantImage: (product: any) => number;\r\nexport declare const getProductFiltered: (products: any, filters?: ProductVariantFilters | any) => any;\r\nexport declare const getProductOptions: (product: ProductVariant) => Record<string, AgnosticAttribute | string>;\r\nexport declare const getProductAttributes: (products: ProductVariant, filterByAttributeName?: string[]) => Record<string, AgnosticAttribute | string>;\r\nexport declare const getProductDescription: (product: ProductVariant, isWantHtml?: boolean) => any;\r\nexport declare const getProductCategoryIds: (product: ProductVariant) => string[];\r\nexport declare const getProductId: (product: ProductVariant) => string;\r\nexport declare const getFormattedPrice: (price: number) => string;\r\nexport declare const getProductStatus: (product: ProductVariant) => boolean;\r\nexport declare const checkForWishlist: (product: ProductVariant) => boolean;\r\nexport declare const getBreadcrumbs: (product: ProductVariant) => any;\r\nexport declare const getProductTotalReviews: (product: ProductVariant) => number;\r\nexport declare const getProductAverageRating: (product: ProductVariant) => number;\r\ndeclare const productGetters: ProductGetters<ProductVariant, ProductVariantFilters>;\r\nexport default productGetters;\r\n"}}
