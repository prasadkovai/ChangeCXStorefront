{"code":"/* istanbul ignore file */\r\nimport { __awaiter, __generator } from \"tslib\";\r\nimport { useUserFactory } from '@vue-storefront/core';\r\nvar params = {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    load: function (context) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var token, result, customer;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    console.log('Mocked: loadUser');\r\n                    token = context.$shopify.config.app.$cookies.get('token');\r\n                    return [4 /*yield*/, context.$shopify.api.fetchCustomer(token)];\r\n                case 1:\r\n                    result = _a.sent();\r\n                    customer = null;\r\n                    if (result) {\r\n                        customer = result.customer;\r\n                        return [2 /*return*/, customer];\r\n                    }\r\n                    return [2 /*return*/, customer];\r\n            }\r\n        });\r\n    }); },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    logOut: function (context) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var token;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    console.log('Mocked: logOut');\r\n                    token = context.$shopify.config.app.$cookies.get('token');\r\n                    context.$shopify.config.app.$cookies.remove('token');\r\n                    return [4 /*yield*/, context.$shopify.api.signOut(token)];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    updateUser: function (context, _a) {\r\n        var currentUser = _a.currentUser, updatedUserData = _a.updatedUserData;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var token;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        console.log('Mocked: updateUser');\r\n                        token = context.$shopify.config.app.$cookies.get('token');\r\n                        return [4 /*yield*/, context.$shopify.api.editProfile({\r\n                                token: token,\r\n                                profile: { email: updatedUserData.email,\r\n                                    firstName: updatedUserData.firstName,\r\n                                    lastName: updatedUserData.lastName\r\n                                }\r\n                            })];\r\n                    case 1:\r\n                        _b.sent();\r\n                        return [2 /*return*/, {}];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    register: function (context, _a) {\r\n        var email = _a.email, password = _a.password, firstName = _a.firstName, lastName = _a.lastName;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var result, response;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        console.log('Mocked: register');\r\n                        return [4 /*yield*/, context.$shopify.api.signUp({\r\n                                email: email,\r\n                                firstName: firstName,\r\n                                lastName: lastName,\r\n                                password: password\r\n                            })];\r\n                    case 1:\r\n                        result = _b.sent();\r\n                        response = {\r\n                            error: (result.customerCreate.customerUserErrors.length) ? result.customerCreate.customerUserErrors[0].message : ''\r\n                        };\r\n                        return [2 /*return*/, response];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    logIn: function (context, _a) {\r\n        var username = _a.username, password = _a.password;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var result, response;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        console.log('Mocked: logIn');\r\n                        return [4 /*yield*/, context.$shopify.api.signIn({ username: username, password: password })];\r\n                    case 1:\r\n                        result = _b.sent();\r\n                        response = {\r\n                            token: (result.customerAccessTokenCreate.customerAccessToken) ? result.customerAccessTokenCreate.customerAccessToken.accessToken : null,\r\n                            error: (result.customerAccessTokenCreate.customerUserErrors.length) ? result.customerAccessTokenCreate.customerUserErrors[0].message : ''\r\n                        };\r\n                        // store token in cookie\r\n                        context.$shopify.config.app.$cookies.set('token', response.token);\r\n                        return [2 /*return*/, response];\r\n                }\r\n            });\r\n        });\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    changePassword: function (context, _a) {\r\n        var currentUser = _a.currentUser, currentPassword = _a.currentPassword, newPassword = _a.newPassword;\r\n        return __awaiter(void 0, void 0, void 0, function () {\r\n            var token, result;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        console.log('Mocked: changePassword');\r\n                        token = context.$shopify.config.app.$cookies.get('token');\r\n                        return [4 /*yield*/, context.$shopify.api.changePassword(token, newPassword)];\r\n                    case 1:\r\n                        result = _b.sent();\r\n                        token = result.customerUpdate.customerAccessToken.accessToken;\r\n                        // store updated user token\r\n                        context.$shopify.config.app.$cookies.set('token', token);\r\n                        return [2 /*return*/, {}];\r\n                }\r\n            });\r\n        });\r\n    }\r\n};\r\nexport default useUserFactory(params);\r\n//# sourceMappingURL=index.js.map","references":["E:/PRASAD/Dasha/23-03-2021/shopify/node_modules/@vue-storefront/core/lib/src/index.d.ts","E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/src/types/index.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/useUser/index.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/node_modules/.cache/rollup-plugin-typescript2/placeholder/useUser/index.d.ts","writeByteOrderMark":false,"text":"import { User } from '../types';\r\ndeclare const _default: () => import(\"@vue-storefront/core\").UseUser<User, any>;\r\nexport default _default;\r\n"}}
