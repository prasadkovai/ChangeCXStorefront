{"code":"import { __assign, __spreadArray } from \"tslib\";\r\nimport { buildBreadcrumbs, buildFacets, reduceForFacets } from './../useFacet/_utils';\r\nimport { getCategoryTree as buildCategoryTree } from './categoryGetters';\r\nimport { enhanceProduct, getSortedProducts } from '../helpers/internals';\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nvar getAll = function (searchData, criteria) { return buildFacets(searchData, reduceForFacets, criteria); };\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nvar getGrouped = function (searchData, criteria) { return []; };\r\n// buildFacets(searchData, reduceForGroupedFacets, criteria);\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nvar getSortOptions = function (searchData) {\r\n    var _a;\r\n    var options = [\r\n        { type: 'sort', id: 'latest', value: 'Latest', count: null },\r\n        { type: 'sort', id: 'title(asc)', value: 'Title: A to Z', count: null },\r\n        { type: 'sort', id: 'title(dsc)', value: 'Title: Z to A', count: null },\r\n        { type: 'sort', id: 'price-up', value: 'Price: Low to high', count: null },\r\n        { type: 'sort', id: 'price-down', value: 'Price: High to low', count: null }\r\n    ].map(function (o) { return (__assign(__assign({}, o), { selected: o.id === searchData.input.sort })); });\r\n    var selected = ((_a = options.find(function (o) { return o.id === searchData.input.sort; })) === null || _a === void 0 ? void 0 : _a.id) || 'latest';\r\n    return { options: options, selected: selected };\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nvar getCategoryTree = function (searchData) {\r\n    if (!searchData.data) {\r\n        return {};\r\n    }\r\n    var allCats = searchData.data.categories;\r\n    var formattedCats = [];\r\n    for (var c = 0; c < allCats.length; c++) {\r\n        formattedCats.push(buildCategoryTree(searchData.data.categories[c]));\r\n    }\r\n    return formattedCats;\r\n};\r\nvar identifyCurrentCat = function (searchData) {\r\n    // fetch curren category slug\r\n    var curCategoryPage = searchData.input.categorySlug;\r\n    var allCategories = searchData.data.categories;\r\n    var curCatIndex = 0;\r\n    // fetch index from category array to generate link and title\r\n    for (var i = 0; i < allCategories.length; i++) {\r\n        // eslint-disable-next-line dot-notation\r\n        if (allCategories[i]['handle'] === curCategoryPage) {\r\n            curCatIndex = i;\r\n            break;\r\n        }\r\n    }\r\n    return curCatIndex;\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nvar getProducts = function (searchData) {\r\n    var curCatIndex = identifyCurrentCat(searchData);\r\n    var sortBy = searchData.input.sort;\r\n    var catProducts = getSortedProducts(enhanceProduct(searchData.data.categories[curCatIndex].products), sortBy);\r\n    var products = enhanceProduct(catProducts);\r\n    return products;\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nvar getPagination = function (searchData) {\r\n    if (!searchData.data) {\r\n        return {};\r\n    }\r\n    var curCatIndex = identifyCurrentCat(searchData);\r\n    return {\r\n        currentPage: searchData.input.page,\r\n        totalPages: Math.ceil(searchData.data.categories[curCatIndex].products.length / searchData.data.itemsPerPage),\r\n        totalItems: searchData.data.categories[curCatIndex].products.length,\r\n        itemsPerPage: searchData.input.itemsPerPage,\r\n        pageOptions: searchData.data.perPageOptions\r\n    };\r\n};\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nvar getBreadcrumbs = function (searchData) {\r\n    if (!searchData.data) {\r\n        return [];\r\n    }\r\n    var curCatIndex = identifyCurrentCat(searchData);\r\n    return __spreadArray([\r\n        { text: 'Home', link: '/' }\r\n    ], buildBreadcrumbs(searchData.data.categories[curCatIndex]).map(function (b) { return (__assign(__assign({}, b), { link: \"/c\" + b.link })); }));\r\n};\r\nvar facetGetters = {\r\n    getSortOptions: getSortOptions,\r\n    getGrouped: getGrouped,\r\n    getAll: getAll,\r\n    getProducts: getProducts,\r\n    getCategoryTree: getCategoryTree,\r\n    getBreadcrumbs: getBreadcrumbs,\r\n    getPagination: getPagination\r\n};\r\nexport default facetGetters;\r\n//# sourceMappingURL=facetGetters.js.map","references":["E:/PRASAD/Dasha/23-03-2021/shopify/node_modules/@vue-storefront/core/lib/src/index.d.ts","E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/src/useFacet/_utils.ts","E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/src/getters/categoryGetters.ts","E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/src/helpers/internals/index.ts"],"map":"{\"version\":3,\"file\":\"facetGetters.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/getters/facetGetters.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/node_modules/.cache/rollup-plugin-typescript2/placeholder/getters/facetGetters.d.ts","writeByteOrderMark":false,"text":"import { FacetsGetters } from '@vue-storefront/core';\r\ndeclare const facetGetters: FacetsGetters<any, any>;\r\nexport default facetGetters;\r\n"}}
