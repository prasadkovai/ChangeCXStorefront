{"code":"import { __awaiter, __generator } from \"tslib\";\r\nimport { useFacetFactory } from '@vue-storefront/core';\r\nimport { enhanceProduct } from './../helpers/internals';\r\n// TODO: move to the config file\r\nvar ITEMS_PER_PAGE = [20, 40, 100];\r\nvar factoryParams = {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    search: function (context, params) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var itemsPerPage, inputFilters, categorySlug, sort, categories, productResponse, products;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    itemsPerPage = params.input.itemsPerPage;\r\n                    inputFilters = params.input.filters;\r\n                    categorySlug = params.input.categorySlug;\r\n                    sort = params.input.sort;\r\n                    return [4 /*yield*/, context.$shopify.api.getCategory({ slug: categorySlug })];\r\n                case 1:\r\n                    categories = _a.sent();\r\n                    return [4 /*yield*/, context.$shopify.api.getProduct({\r\n                            catId: categories[0].id,\r\n                            data: params.data,\r\n                            limit: itemsPerPage,\r\n                            offset: (params.input.page - 1) * itemsPerPage,\r\n                            sort: sort,\r\n                            filters: inputFilters\r\n                        })];\r\n                case 2:\r\n                    productResponse = _a.sent();\r\n                    products = enhanceProduct(productResponse);\r\n                    return [2 /*return*/, {\r\n                            products: products,\r\n                            categories: categories,\r\n                            total: products.length,\r\n                            perPageOptions: ITEMS_PER_PAGE,\r\n                            itemsPerPage: itemsPerPage\r\n                        }];\r\n            }\r\n        });\r\n    }); }\r\n};\r\nexport default useFacetFactory(factoryParams);\r\n//# sourceMappingURL=index.js.map","references":["E:/PRASAD/Dasha/23-03-2021/shopify/node_modules/@vue-storefront/core/lib/src/index.d.ts","E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/src/helpers/internals/index.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/useFacet/index.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAW,eAAe,EAAqB,MAAM,sBAAsB,CAAC;AACnF,OAAO,EAAE,cAAc,EAAE,MAAM,wBAAwB,CAAC;AAExD,gCAAgC;AAChC,IAAM,cAAc,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;AAErC,IAAM,aAAa,GAAG;IACpB,6DAA6D;IAC7D,MAAM,EAAE,UAAO,OAAgB,EAAE,MAA8B;;;;;oBACvD,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC;oBACzC,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC;oBACpC,YAAY,GAAG,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC;oBACzC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC;oBACZ,qBAAM,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,EAAA;;oBAA3E,UAAU,GAAG,SAA8D;oBACzD,qBAAM,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC;4BAC5D,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;4BACvB,IAAI,EAAE,MAAM,CAAC,IAAI;4BACjB,KAAK,EAAE,YAAY;4BACnB,MAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,YAAY;4BAC9C,IAAI,EAAE,IAAI;4BACV,OAAO,EAAE,YAAY;yBACtB,CAAC,EAAA;;oBAPI,eAAe,GAAG,SAOtB;oBACI,QAAQ,GAAG,cAAc,CAAC,eAAe,CAAC,CAAC;oBACjD,sBAAO;4BACL,QAAQ,UAAA;4BACR,UAAU,YAAA;4BACV,KAAK,EAAE,QAAQ,CAAC,MAAM;4BACtB,cAAc,EAAE,cAAc;4BAC9B,YAAY,cAAA;yBACb,EAAC;;;SACH;CACF,CAAC;AAEF,eAAe,eAAe,CAAM,aAAa,CAAC,CAAC\"}","dts":{"name":"E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/node_modules/.cache/rollup-plugin-typescript2/placeholder/useFacet/index.d.ts","writeByteOrderMark":false,"text":"declare const _default: (id?: string) => import(\"@vue-storefront/core\").UseFacet<any>;\r\nexport default _default;\r\n"}}
