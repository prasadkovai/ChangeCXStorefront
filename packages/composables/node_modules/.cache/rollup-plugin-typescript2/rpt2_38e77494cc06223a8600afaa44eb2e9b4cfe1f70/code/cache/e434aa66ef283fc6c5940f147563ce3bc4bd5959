{"code":"import { __assign, __spreadArray } from \"tslib\";\r\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\r\nvar buildBreadcrumbsList = function (rootCat, bc) {\r\n    var newBc = __spreadArray(__spreadArray([], bc), [{ text: rootCat.title, link: rootCat.handle }]);\r\n    return rootCat.parent ? buildBreadcrumbsList(rootCat.parent, newBc) : newBc;\r\n};\r\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nexport var buildBreadcrumbs = function (rootCat) {\r\n    return buildBreadcrumbsList(rootCat, [])\r\n        .reverse()\r\n        .reduce(function (prev, curr, index) {\r\n        var _a;\r\n        return (__spreadArray(__spreadArray([], prev), [\r\n            __assign(__assign({}, curr), { link: (((_a = prev[index - 1]) === null || _a === void 0 ? void 0 : _a.link) || '') + \"/\" + curr.link })\r\n        ]));\r\n    }, []);\r\n};\r\nvar filterFacets = function (criteria) { return function (f) { return criteria ? criteria.includes(f) : true; }; };\r\nvar createFacetsFromOptions = function (facets, filters, filterKey) {\r\n    var _a;\r\n    var options = ((_a = facets[filterKey]) === null || _a === void 0 ? void 0 : _a.options) || [];\r\n    var selectedList = filters && filters[filterKey] ? filters[filterKey] : [];\r\n    return options\r\n        .map(function (_a) {\r\n        var label = _a.label, value = _a.value;\r\n        return ({\r\n            type: 'attribute',\r\n            id: label,\r\n            attrName: filterKey,\r\n            value: value,\r\n            selected: selectedList.includes(value),\r\n            count: null\r\n        });\r\n    });\r\n};\r\nexport var reduceForFacets = function (facets, filters) { return function (prev, curr) { return (__spreadArray(__spreadArray([], prev), createFacetsFromOptions(facets, filters, curr))); }; };\r\nexport var reduceForGroupedFacets = function (facets, filters) { return function (prev, curr) { return (__spreadArray(__spreadArray([], prev), [\r\n    {\r\n        id: curr,\r\n        label: curr,\r\n        options: createFacetsFromOptions(facets, filters, curr),\r\n        count: null\r\n    }\r\n])); }; };\r\nexport var buildFacets = function (searchData, reduceFn, criteria) {\r\n    if (!searchData.data) {\r\n        return [];\r\n    }\r\n    var facets = searchData.data.facets, filters = searchData.input.filters;\r\n    return Object.keys(facets)\r\n        .filter(filterFacets(criteria))\r\n        .reduce(reduceFn(facets, filters), []);\r\n};\r\n//# sourceMappingURL=_utils.js.map","references":[],"map":"{\"version\":3,\"file\":\"_utils.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/useFacet/_utils.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/node_modules/.cache/rollup-plugin-typescript2/placeholder/useFacet/_utils.d.ts","writeByteOrderMark":false,"text":"export declare const buildBreadcrumbs: (rootCat: any) => any;\r\nexport declare const reduceForFacets: (facets: any, filters: any) => (prev: any, curr: any) => any[];\r\nexport declare const reduceForGroupedFacets: (facets: any, filters: any) => (prev: any, curr: any) => any[];\r\nexport declare const buildFacets: (searchData: any, reduceFn: any, criteria?: string[]) => any[];\r\n"}}
