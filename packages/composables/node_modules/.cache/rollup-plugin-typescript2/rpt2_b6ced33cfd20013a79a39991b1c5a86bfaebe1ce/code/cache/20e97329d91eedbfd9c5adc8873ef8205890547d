{"code":"import { __assign, __awaiter, __generator } from \"tslib\";\r\nimport { useUserShippingFactory } from '@vue-storefront/core';\r\nvar addresses = [\r\n    {\r\n        id: 1,\r\n        email: 'john@gmail.com',\r\n        firstName: 'John',\r\n        lastName: 'Doe',\r\n        streetName: 'Warsawska',\r\n        apartment: '24/193A',\r\n        city: 'Phoenix',\r\n        state: null,\r\n        zipCode: '26-620',\r\n        country: 'US',\r\n        phoneNumber: '560123456',\r\n        isDefault: true\r\n    },\r\n    {\r\n        id: 2,\r\n        email: 'havaka@gmail.com',\r\n        firstName: 'Jonatan',\r\n        lastName: 'Doe',\r\n        streetName: 'Starachowicka',\r\n        apartment: '20/193A',\r\n        city: 'Atlanta',\r\n        state: null,\r\n        zipCode: '53-603',\r\n        country: 'US',\r\n        phoneNumber: '560123456',\r\n        isDefault: false\r\n    }\r\n];\r\nvar shipping = {\r\n    addresses: addresses\r\n};\r\nvar findBiggestId = function () { return addresses.reduce(function (highest, _a) {\r\n    var id = _a.id;\r\n    return Math.max(highest, id);\r\n}, 0); };\r\nvar disableOldDefault = function () {\r\n    var oldDefault = addresses.find(function (address) { return address.isDefault; });\r\n    if (oldDefault) {\r\n        oldDefault.isDefault = false;\r\n    }\r\n};\r\nvar sortDefaultAtTop = function (a, b) {\r\n    if (a.isDefault) {\r\n        return -1;\r\n    }\r\n    else if (b.isDefault) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n};\r\nvar params = {\r\n    addAddress: function (context, params) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var newAddress;\r\n        return __generator(this, function (_a) {\r\n            console.log('Mocked: addAddress', params.address);\r\n            newAddress = __assign(__assign({}, params.address), { id: findBiggestId() + 1 });\r\n            if (params.address.isDefault) {\r\n                disableOldDefault();\r\n                addresses.unshift(newAddress);\r\n            }\r\n            else {\r\n                addresses.push(newAddress);\r\n            }\r\n            return [2 /*return*/, Promise.resolve(shipping)];\r\n        });\r\n    }); },\r\n    deleteAddress: function (context, params) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var indexToRemove;\r\n        return __generator(this, function (_a) {\r\n            console.log('Mocked: deleteAddress', params);\r\n            indexToRemove = addresses.findIndex(function (address) { return address.id === params.address.id; });\r\n            if (indexToRemove < 0) {\r\n                return [2 /*return*/, Promise.reject('This address does not exist')];\r\n            }\r\n            addresses.splice(indexToRemove, 1);\r\n            return [2 /*return*/, Promise.resolve(shipping)];\r\n        });\r\n    }); },\r\n    updateAddress: function (context, params) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var indexToUpdate, isNewDefault;\r\n        return __generator(this, function (_a) {\r\n            console.log('Mocked: updateAddress', params);\r\n            indexToUpdate = addresses.findIndex(function (address) { return address.id === params.address.id; });\r\n            if (indexToUpdate < 0) {\r\n                return [2 /*return*/, Promise.reject('This address does not exist')];\r\n            }\r\n            isNewDefault = params.address.isDefault && addresses[0].id !== params.address.id;\r\n            if (isNewDefault) {\r\n                disableOldDefault();\r\n            }\r\n            addresses[indexToUpdate] = params.address;\r\n            if (isNewDefault) {\r\n                addresses.sort(sortDefaultAtTop);\r\n            }\r\n            return [2 /*return*/, Promise.resolve(shipping)];\r\n        });\r\n    }); },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    load: function (context, params) { return __awaiter(void 0, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            console.log('Mocked: load');\r\n            return [2 /*return*/, Promise.resolve(shipping)];\r\n        });\r\n    }); },\r\n    setDefaultAddress: function (context, params) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var isDefault, indexToUpdate;\r\n        return __generator(this, function (_a) {\r\n            console.log('Mocked: setDefault');\r\n            isDefault = function (id) { return addresses[0].id === id; };\r\n            if (!isDefault(params.address.id)) {\r\n                indexToUpdate = addresses.findIndex(function (address) { return address.id === params.address.id; });\r\n                if (indexToUpdate < 0) {\r\n                    return [2 /*return*/, Promise.reject('This address does not exist')];\r\n                }\r\n                disableOldDefault();\r\n                addresses[indexToUpdate].isDefault = true;\r\n                addresses.sort(sortDefaultAtTop);\r\n            }\r\n            return [2 /*return*/, Promise.resolve(shipping)];\r\n        });\r\n    }); }\r\n};\r\nexport default useUserShippingFactory(params);\r\n//# sourceMappingURL=index.js.map","references":["E:/PRASAD/Dasha/23-03-2021/shopify/node_modules/@vue-storefront/core/lib/src/index.d.ts"],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/useUserShipping/index.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"E:/PRASAD/Dasha/23-03-2021/shopify/packages/composables/node_modules/.cache/rollup-plugin-typescript2/placeholder/useUserShipping/index.d.ts","writeByteOrderMark":false,"text":"declare const _default: () => import(\"@vue-storefront/core\").UseUserShipping<any, any>;\r\nexport default _default;\r\n"}}
